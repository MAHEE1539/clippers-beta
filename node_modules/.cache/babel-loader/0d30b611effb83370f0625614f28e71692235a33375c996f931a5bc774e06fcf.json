{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mahee\\\\Desktop\\\\bunkersbell\\\\cafe-menu\\\\src\\\\pages\\\\TaxManagementPage.js\",\n  _s = $RefreshSig$();\n// src/pages/TaxManagementPage.js\nimport { addDoc, collection, deleteDoc, doc, onSnapshot, updateDoc } from \"firebase/firestore\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { db } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TaxManagementPage() {\n  _s();\n  const [taxes, setTaxes] = useState([]);\n  const [newTax, setNewTax] = useState({\n    name: \"\",\n    percentage: \"\"\n  });\n  const navigate = useNavigate();\n\n  // Snapshot for taxes\n  useEffect(() => {\n    const unsub = onSnapshot(collection(db, \"taxes\"), snap => {\n      setTaxes(snap.docs.map(d => ({\n        id: d.id,\n        ...d.data()\n      })));\n    });\n    return () => unsub();\n  }, []);\n\n  // Add new tax\n  const addTax = async e => {\n    e.preventDefault();\n    if (!newTax.name || !newTax.percentage) return alert(\"Enter tax name and %\");\n    await addDoc(collection(db, \"taxes\"), {\n      name: newTax.name,\n      percentage: parseFloat(newTax.percentage)\n    });\n    setNewTax({\n      name: \"\",\n      percentage: \"\"\n    });\n  };\n\n  // Update tax\n  const updateTax = async (id, updates) => {\n    await updateDoc(doc(db, \"taxes\", id), updates);\n  };\n\n  // Delete tax\n  const deleteTax = async id => {\n    if (window.confirm(\"Delete this tax?\")) {\n      await deleteDoc(doc(db, \"taxes\", id));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    style: {\n      maxWidth: 600,\n      margin: \"0 auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Tax Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addTax,\n      style: {\n        display: \"flex\",\n        gap: 8,\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Tax Name (e.g. GST)\",\n        value: newTax.name,\n        onChange: e => setNewTax({\n          ...newTax,\n          name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"%\",\n        value: newTax.percentage,\n        onChange: e => setNewTax({\n          ...newTax,\n          percentage: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        type: \"submit\",\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), taxes.map(tax => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-card\",\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: tax.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), \" \\xB7 \", tax.percentage, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn secondary\",\n          onClick: () => {\n            const newPercent = prompt(\"Enter new %:\", tax.percentage);\n            if (newPercent) updateTax(tax.id, {\n              percentage: parseFloat(newPercent)\n            });\n          },\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn danger\",\n          style: {\n            marginLeft: 8\n          },\n          onClick: () => deleteTax(tax.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, tax.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn secondary\",\n        onClick: () => navigate(-1),\n        children: \"\\u2B05 Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(TaxManagementPage, \"mjdaOf4OoXfiki9uHuOUxWpUvFc=\", false, function () {\n  return [useNavigate];\n});\n_c = TaxManagementPage;\nvar _c;\n$RefreshReg$(_c, \"TaxManagementPage\");","map":{"version":3,"names":["addDoc","collection","deleteDoc","doc","onSnapshot","updateDoc","useEffect","useState","useNavigate","db","jsxDEV","_jsxDEV","TaxManagementPage","_s","taxes","setTaxes","newTax","setNewTax","name","percentage","navigate","unsub","snap","docs","map","d","id","data","addTax","e","preventDefault","alert","parseFloat","updateTax","updates","deleteTax","window","confirm","className","style","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","display","gap","marginBottom","placeholder","value","onChange","target","type","tax","justifyContent","onClick","newPercent","prompt","marginLeft","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/mahee/Desktop/bunkersbell/cafe-menu/src/pages/TaxManagementPage.js"],"sourcesContent":["// src/pages/TaxManagementPage.js\nimport { addDoc, collection, deleteDoc, doc, onSnapshot, updateDoc } from \"firebase/firestore\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { db } from \"../firebase\";\n\nexport default function TaxManagementPage() {\n  const [taxes, setTaxes] = useState([]);\n  const [newTax, setNewTax] = useState({ name: \"\", percentage: \"\" });\n  const navigate = useNavigate();\n\n  // Snapshot for taxes\n  useEffect(() => {\n    const unsub = onSnapshot(collection(db, \"taxes\"), (snap) => {\n      setTaxes(snap.docs.map((d) => ({ id: d.id, ...d.data() })));\n    });\n    return () => unsub();\n  }, []);\n\n  // Add new tax\n  const addTax = async (e) => {\n    e.preventDefault();\n    if (!newTax.name || !newTax.percentage) return alert(\"Enter tax name and %\");\n    await addDoc(collection(db, \"taxes\"), {\n      name: newTax.name,\n      percentage: parseFloat(newTax.percentage),\n    });\n    setNewTax({ name: \"\", percentage: \"\" });\n  };\n\n  // Update tax\n  const updateTax = async (id, updates) => {\n    await updateDoc(doc(db, \"taxes\", id), updates);\n  };\n\n  // Delete tax\n  const deleteTax = async (id) => {\n    if (window.confirm(\"Delete this tax?\")) {\n      await deleteDoc(doc(db, \"taxes\", id));\n    }\n  };\n\n  return (\n    <div className=\"card\" style={{ maxWidth: 600, margin: \"0 auto\" }}>\n      <h2>Tax Management</h2>\n\n      <form onSubmit={addTax} style={{ display: \"flex\", gap: 8, marginBottom: 12 }}>\n        <input\n          placeholder=\"Tax Name (e.g. GST)\"\n          value={newTax.name}\n          onChange={(e) => setNewTax({ ...newTax, name: e.target.value })}\n        />\n        <input\n          type=\"number\"\n          placeholder=\"%\"\n          value={newTax.percentage}\n          onChange={(e) => setNewTax({ ...newTax, percentage: e.target.value })}\n        />\n        <button className=\"btn\" type=\"submit\">Add</button>\n      </form>\n\n      {taxes.map((tax) => (\n        <div key={tax.id} className=\"order-card\" style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <div>\n            <strong>{tax.name}</strong> · {tax.percentage}%\n          </div>\n          <div>\n            <button\n              className=\"btn secondary\"\n              onClick={() => {\n                const newPercent = prompt(\"Enter new %:\", tax.percentage);\n                if (newPercent) updateTax(tax.id, { percentage: parseFloat(newPercent) });\n              }}\n            >\n              Edit\n            </button>\n            <button\n              className=\"btn danger\"\n              style={{ marginLeft: 8 }}\n              onClick={() => deleteTax(tax.id)}\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      ))}\n\n      <div style={{ marginTop: 20 }}>\n        <button className=\"btn secondary\" onClick={() => navigate(-1)}>⬅ Back</button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}